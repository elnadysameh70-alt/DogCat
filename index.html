<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Dog & Cat Subscriptions</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Tahoma, Arial;
  background:#111;
  color:#fff;
  direction:rtl;
}

header{
  background:linear-gradient(135deg,#ff9800,#ff5722);
  padding:20px;
  text-align:center;
  font-size:24px;
  font-weight:bold;
}

.container{
  padding:15px;
}

.card{
  background:#1e1e1e;
  border-radius:16px;
  margin-bottom:20px;
  padding:15px;
  box-shadow:0 0 15px rgba(0,0,0,.5);
  opacity:.4;
}

.card.active{
  opacity:1;
}

.card img{
  width:100%;
  border-radius:12px;
}

.price{
  font-size:22px;
  color:#ff9800;
  margin:10px 0;
}

.duration{
  color:#bbb;
}

button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  background:#ff9800;
  color:#000;
  font-size:18px;
  cursor:pointer;
}

button:disabled{
  background:#555;
  cursor:not-allowed;
}

.timer{
  margin-top:10px;
  color:#00e676;
  font-weight:bold;
  text-align:center;
}

.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  align-items:center;
  justify-content:center;
}

.popup-content{
  background:#222;
  padding:20px;
  border-radius:15px;
  text-align:center;
  width:85%;
}

.popup-content h3{
  margin-top:0;
  color:#ff9800;
}

.popup-content button{
  margin-top:15px;
}
</style>
</head>

<body>

<header>ğŸ¶ Dog & Cat Subscriptions ğŸ±</header>

<div class="container" id="cards"></div>

<div class="popup" id="popup">
  <div class="popup-content">
    <h3>Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„</h3>
    <p id="payNumber">01000000000</p>
    <button onclick="confirmPay()">ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„</button>
    <button onclick="closePopup()">Ø¥Ù„ØºØ§Ø¡</button>
  </div>
</div>

<script>
const adminNumber = "01000000000"; // â† ØºÙŠØ± Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ù‡Ù†Ø§

const plans = [
 {price:200, days:2, img:"https://placekitten.com/400/250"},
 {price:500, days:5, img:"https://placekitten.com/401/250"},
 {price:1000, days:7, img:"https://placekitten.com/402/250"},
 {price:5000, days:14, img:"https://placekitten.com/403/250"},
 {price:10000, days:30, img:"https://placekitten.com/404/250"}
];

let currentPlan = parseInt(localStorage.getItem("currentPlan")||0);
let endTimes = JSON.parse(localStorage.getItem("endTimes")||"[]");
let selectedPlan = null;

const cards = document.getElementById("cards");

function render(){
  cards.innerHTML="";
  plans.forEach((p,i)=>{
    const card=document.createElement("div");
    card.className="card"+(i===currentPlan?" active":"");
    card.innerHTML=`
      <img src="${p.img}">
      <div class="price">${p.price} Ø¬Ù†ÙŠÙ‡</div>
      <div class="duration">${p.days} ÙŠÙˆÙ…</div>
      <button ${i!==currentPlan?"disabled":""} onclick="subscribe(${i})">
        Ø§Ø´ØªØ±Ùƒ
      </button>
      <div class="timer" id="timer${i}"></div>
    `;
    cards.appendChild(card);
  });
}
render();

function subscribe(i){
  selectedPlan=i;
  document.getElementById("payNumber").innerText=adminNumber;
  document.getElementById("popup").style.display="flex";
}

function closePopup(){
  document.getElementById("popup").style.display="none";
}

function confirmPay(){
  const now=Date.now();
  const duration=plans[selectedPlan].days*24*60*60*1000;
  endTimes[selectedPlan]=now+duration;
  localStorage.setItem("endTimes",JSON.stringify(endTimes));
  document.getElementById("popup").style.display="none";
}

function updateTimers(){
  const now=Date.now();
  if(endTimes[currentPlan] && now<endTimes[currentPlan]){
    const diff=endTimes[currentPlan]-now;
    const d=Math.floor(diff/86400000);
    const h=Math.floor(diff%86400000/3600000);
    const m=Math.floor(diff%3600000/60000);
    document.getElementById("timer"+currentPlan).innerText=
      `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${d}ÙŠ ${h}Ø³ ${m}Ø¯`;
  }else if(endTimes[currentPlan]){
    currentPlan++;
    localStorage.setItem("currentPlan",currentPlan);
    render();
  }
}
setInterval(updateTimers,1000);
</script>

</body>
</html>
