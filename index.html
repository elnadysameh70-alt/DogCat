<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>DOG & CAT</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<style>
body{
  font-family: Tahoma, Arial;
}
</style>
</head>

<body class="bg-slate-900 text-white min-h-screen flex items-center justify-center">

<!-- NOT TELEGRAM -->
<div id="notTelegram" class="hidden text-center p-6">
  <h2 class="text-xl font-bold mb-3">âš ï¸ ØªÙ†Ø¨ÙŠÙ‡</h2>
  <p>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„ Ù…Ù† Ø¯Ø§Ø®Ù„ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… ÙÙ‚Ø·</p>
</div>

<!-- PROFILE -->
<div id="app" class="hidden w-full max-w-sm p-6 bg-slate-800 rounded-xl text-center">
  <h1 class="text-2xl font-bold mb-3">DOG & CAT</h1>

  <p id="userInfo" class="mb-4"></p>

  <button onclick="goSubs()"
    class="w-full bg-green-600 py-3 rounded font-bold mb-3">
    Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
  </button>

  <button onclick="logout()"
    class="w-full bg-red-600 py-3 rounded font-bold">
    Ø®Ø±ÙˆØ¬
  </button>
</div>

<script>
const tg = window.Telegram.WebApp;

if(!tg.initDataUnsafe.user){
  document.getElementById("notTelegram").classList.remove("hidden");
}else{
  tg.ready();
  tg.expand();

  const user = tg.initDataUnsafe.user;
  localStorage.setItem("user_id", user.id);
  localStorage.setItem("user_name", user.first_name || "");

  document.getElementById("app").classList.remove("hidden");
  document.getElementById("userInfo").innerText =
    "ğŸ‘¤ " + user.first_name + "\nğŸ†” " + user.id;
}

function goSubs(){
  alert("ØµÙØ­Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª (Ù‚Ø±ÙŠØ¨Ù‹Ø§)");
}

function logout(){
  localStorage.clear();
  tg.close();
}
</script>

</body>
  </html>
